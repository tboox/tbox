#ifndef TB_CONFIG_H
#define TB_CONFIG_H

// version
#define TB_CONFIG_VERSION "${VERSION}"
#define TB_CONFIG_VERSION_MAJOR ${VERSION_MAJOR}
#define TB_CONFIG_VERSION_MINOR ${VERSION_MINOR}
#define TB_CONFIG_VERSION_ALTER ${VERSION_ALTER}
#define TB_CONFIG_VERSION_BUILD ${VERSION_BUILD}

// defines
#define TB_CONFIG_OS_${OS} 1
${define _GNU_SOURCE}
${define _REENTRANT}
${define TB_CONFIG_SMALL}
${define TB_CONFIG_FWATCHER_ENABLE}
${define TB_CONFIG_MICRO_ENABLE}
${define TB_CONFIG_TYPE_HAVE_WCHAR}
${define TB_CONFIG_TYPE_HAVE_FLOAT}
${define TB_CONFIG_FORCE_UTF8}
${define TB_CONFIG_API_HAVE_DEPRECATED}
${define TB_CONFIG_EXCEPTION_ENABLE}

// keywords
${define TB_CONFIG_KEYWORD_HAVE__thread}
${define TB_CONFIG_KEYWORD_HAVE_Thread_local}

// features
${define TB_CONFIG_FEATURE_HAVE_ANONYMOUS_UNION}

// modules
${define TB_CONFIG_MODULE_HAVE_XML}
${define TB_CONFIG_MODULE_HAVE_ZIP}
${define TB_CONFIG_MODULE_HAVE_HASH}
${define TB_CONFIG_MODULE_HAVE_REGEX}
${define TB_CONFIG_MODULE_HAVE_OBJECT}
${define TB_CONFIG_MODULE_HAVE_CHARSET}
${define TB_CONFIG_MODULE_HAVE_DATABASE}
${define TB_CONFIG_MODULE_HAVE_COROUTINE}

// packages
${define TB_CONFIG_PACKAGE_HAVE_ZLIB}
${define TB_CONFIG_PACKAGE_HAVE_MYSQL}
${define TB_CONFIG_PACKAGE_HAVE_SQLITE3}
${define TB_CONFIG_PACKAGE_HAVE_OPENSSL}
${define TB_CONFIG_PACKAGE_HAVE_POLARSSL}
${define TB_CONFIG_PACKAGE_HAVE_MBEDTLS}
${define TB_CONFIG_PACKAGE_HAVE_PCRE2}
${define TB_CONFIG_PACKAGE_HAVE_PCRE}

// libc functions
${define TB_CONFIG_LIBC_HAVE_MEMCPY}
${define TB_CONFIG_LIBC_HAVE_MEMSET}
${define TB_CONFIG_LIBC_HAVE_MEMMOVE}
${define TB_CONFIG_LIBC_HAVE_MEMCMP}
${define TB_CONFIG_LIBC_HAVE_MEMMEM}
${define TB_CONFIG_LIBC_HAVE_STRCAT}
${define TB_CONFIG_LIBC_HAVE_STRNCAT}
${define TB_CONFIG_LIBC_HAVE_STRCPY}
${define TB_CONFIG_LIBC_HAVE_STRNCPY}
${define TB_CONFIG_LIBC_HAVE_STRLCPY}
${define TB_CONFIG_LIBC_HAVE_STRLEN}
${define TB_CONFIG_LIBC_HAVE_STRNLEN}
${define TB_CONFIG_LIBC_HAVE_STRCHR}
${define TB_CONFIG_LIBC_HAVE_STRRCHR}
${define TB_CONFIG_LIBC_HAVE_STRSTR}
${define TB_CONFIG_LIBC_HAVE_STRCASESTR}
${define TB_CONFIG_LIBC_HAVE_STRCMP}
${define TB_CONFIG_LIBC_HAVE_STRCASECMP}
${define TB_CONFIG_LIBC_HAVE_STRNCMP}
${define TB_CONFIG_LIBC_HAVE_STRNCASECMP}

${define TB_CONFIG_LIBC_HAVE_WCSCAT}
${define TB_CONFIG_LIBC_HAVE_WCSNCAT}
${define TB_CONFIG_LIBC_HAVE_WCSCPY}
${define TB_CONFIG_LIBC_HAVE_WCSNCPY}
${define TB_CONFIG_LIBC_HAVE_WCSLCPY}
${define TB_CONFIG_LIBC_HAVE_WCSLEN}
${define TB_CONFIG_LIBC_HAVE_WCSNLEN}
${define TB_CONFIG_LIBC_HAVE_WCSSTR}
${define TB_CONFIG_LIBC_HAVE_WCSCASESTR}
${define TB_CONFIG_LIBC_HAVE_WCSCMP}
${define TB_CONFIG_LIBC_HAVE_WCSCASECMP}
${define TB_CONFIG_LIBC_HAVE_WCSNCMP}
${define TB_CONFIG_LIBC_HAVE_WCSNCASECMP}
${define TB_CONFIG_LIBC_HAVE_WCSTOMBS}
${define TB_CONFIG_LIBC_HAVE_MBSTOWCS}

${define TB_CONFIG_LIBC_HAVE_GMTIME}
${define TB_CONFIG_LIBC_HAVE_MKTIME}
${define TB_CONFIG_LIBC_HAVE_LOCALTIME}
${define TB_CONFIG_LIBC_HAVE_GETTIMEOFDAY}
${define TB_CONFIG_LIBC_HAVE_SIGNAL}
${define TB_CONFIG_LIBC_HAVE_SETJMP}
${define TB_CONFIG_LIBC_HAVE_SIGSETJMP}
${define TB_CONFIG_LIBC_HAVE_KILL}
${define TB_CONFIG_LIBC_HAVE_BACKTRACE}
${define TB_CONFIG_LIBC_HAVE_SETLOCALE}
${define TB_CONFIG_LIBC_HAVE_FPUTC}
${define TB_CONFIG_LIBC_HAVE_FGETC}
${define TB_CONFIG_LIBC_HAVE_UNGETC}
${define TB_CONFIG_LIBC_HAVE_FPUTS}
${define TB_CONFIG_LIBC_HAVE_FGETS}
${define TB_CONFIG_LIBC_HAVE_FREAD}
${define TB_CONFIG_LIBC_HAVE_FWRITE}
${define TB_CONFIG_LIBC_HAVE_SRANDOM}
${define TB_CONFIG_LIBC_HAVE_RANDOM}

// libm functions
${define TB_CONFIG_LIBM_HAVE_SINCOS}
${define TB_CONFIG_LIBM_HAVE_SINCOSF}
${define TB_CONFIG_LIBM_HAVE_LOG2}
${define TB_CONFIG_LIBM_HAVE_LOG2F}
${define TB_CONFIG_LIBM_HAVE_SQRT}
${define TB_CONFIG_LIBM_HAVE_SQRTF}
${define TB_CONFIG_LIBM_HAVE_ACOS}
${define TB_CONFIG_LIBM_HAVE_ACOSF}
${define TB_CONFIG_LIBM_HAVE_ASIN}
${define TB_CONFIG_LIBM_HAVE_ASINF}
${define TB_CONFIG_LIBM_HAVE_POW}
${define TB_CONFIG_LIBM_HAVE_POWF}
${define TB_CONFIG_LIBM_HAVE_FMOD}
${define TB_CONFIG_LIBM_HAVE_FMODF}
${define TB_CONFIG_LIBM_HAVE_TAN}
${define TB_CONFIG_LIBM_HAVE_TANF}
${define TB_CONFIG_LIBM_HAVE_ATAN}
${define TB_CONFIG_LIBM_HAVE_ATANF}
${define TB_CONFIG_LIBM_HAVE_ATAN2}
${define TB_CONFIG_LIBM_HAVE_ATAN2F}
${define TB_CONFIG_LIBM_HAVE_COS}
${define TB_CONFIG_LIBM_HAVE_COSF}
${define TB_CONFIG_LIBM_HAVE_SIN}
${define TB_CONFIG_LIBM_HAVE_SINF}
${define TB_CONFIG_LIBM_HAVE_EXP}
${define TB_CONFIG_LIBM_HAVE_EXPF}

// posix functions
${define TB_CONFIG_POSIX_HAVE_POLL}
${define TB_CONFIG_POSIX_HAVE_SELECT}
${define TB_CONFIG_POSIX_HAVE_PTHREAD_MUTEX_INIT}
${define TB_CONFIG_POSIX_HAVE_PTHREAD_CREATE}
${define TB_CONFIG_POSIX_HAVE_PTHREAD_SETSPECIFIC}
${define TB_CONFIG_POSIX_HAVE_PTHREAD_GETSPECIFIC}
${define TB_CONFIG_POSIX_HAVE_PTHREAD_KEY_CREATE}
${define TB_CONFIG_POSIX_HAVE_PTHREAD_KEY_DELETE}
${define TB_CONFIG_POSIX_HAVE_PTHREAD_SETAFFINITY_NP}
${define TB_CONFIG_POSIX_HAVE_SOCKET}
${define TB_CONFIG_POSIX_HAVE_OPENDIR}
${define TB_CONFIG_POSIX_HAVE_DLOPEN}
${define TB_CONFIG_POSIX_HAVE_OPEN}
${define TB_CONFIG_POSIX_HAVE_STAT64}
${define TB_CONFIG_POSIX_HAVE_LSTAT64}
${define TB_CONFIG_POSIX_HAVE_GETHOSTNAME}
${define TB_CONFIG_POSIX_HAVE_GETIFADDRS}
${define TB_CONFIG_POSIX_HAVE_SEM_INIT}
${define TB_CONFIG_POSIX_HAVE_GETPAGESIZE}
${define TB_CONFIG_POSIX_HAVE_SYSCONF}
${define TB_CONFIG_POSIX_HAVE_SCHED_YIELD}
${define TB_CONFIG_POSIX_HAVE_SCHED_SETAFFINITY}
${define TB_CONFIG_POSIX_HAVE_REGCOMP}
${define TB_CONFIG_POSIX_HAVE_REGEXEC}
${define TB_CONFIG_POSIX_HAVE_READV}
${define TB_CONFIG_POSIX_HAVE_WRITEV}
${define TB_CONFIG_POSIX_HAVE_PREADV}
${define TB_CONFIG_POSIX_HAVE_PWRITEV}
${define TB_CONFIG_POSIX_HAVE_PREAD64}
${define TB_CONFIG_POSIX_HAVE_PWRITE64}
${define TB_CONFIG_POSIX_HAVE_FDATASYNC}
${define TB_CONFIG_POSIX_HAVE_COPYFILE}
${define TB_CONFIG_POSIX_HAVE_SENDFILE}
${define TB_CONFIG_POSIX_HAVE_EPOLL_CREATE}
${define TB_CONFIG_POSIX_HAVE_EPOLL_WAIT}
${define TB_CONFIG_POSIX_HAVE_POSIX_SPAWNP}
${define TB_CONFIG_POSIX_HAVE_POSIX_SPAWN_FILE_ACTIONS_ADDCHDIR_NP}
#if (defined(__MACH__) && __ENVIRONMENT_MAC_OS_X_VERSION_MIN_REQUIRED__ <= 101400)
#   undef TB_CONFIG_POSIX_HAVE_POSIX_SPAWN_FILE_ACTIONS_ADDCHDIR_NP // only for macOS >=10.15
#endif
${define TB_CONFIG_POSIX_HAVE_EXECVP}
${define TB_CONFIG_POSIX_HAVE_EXECVPE}
${define TB_CONFIG_POSIX_HAVE_FORK}
${define TB_CONFIG_POSIX_HAVE_VFORK}
${define TB_CONFIG_POSIX_HAVE_WAITPID}
${define TB_CONFIG_POSIX_HAVE_GETDTABLESIZE}
${define TB_CONFIG_POSIX_HAVE_GETRLIMIT}
${define TB_CONFIG_POSIX_HAVE_GETADDRINFO}
${define TB_CONFIG_POSIX_HAVE_GETNAMEINFO}
${define TB_CONFIG_POSIX_HAVE_GETHOSTBYNAME}
${define TB_CONFIG_POSIX_HAVE_GETHOSTBYADDR}
${define TB_CONFIG_POSIX_HAVE_FCNTL}
${define TB_CONFIG_POSIX_HAVE_PIPE}
${define TB_CONFIG_POSIX_HAVE_PIPE2}
${define TB_CONFIG_POSIX_HAVE_MKFIFO}
${define TB_CONFIG_POSIX_HAVE_MMAP}
${define TB_CONFIG_POSIX_HAVE_FUTIMENS}
${define TB_CONFIG_POSIX_HAVE_UTIMENSAT}

// windows functions
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE_NF}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE_ACQ}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE_REL}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE8}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE8_NF}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE8_ACQ}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGE8_REL}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDOR8}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDOR8_NF}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDOR8_ACQ}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDOR8_REL}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD_NF}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD_ACQ}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD_REL}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD64}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD64_NF}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD64_ACQ}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDEXCHANGEADD64_REL}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE_NF}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE_ACQ}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE_REL}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE64}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE64_NF}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE64_ACQ}
${define TB_CONFIG_WINDOWS_HAVE__INTERLOCKEDCOMPAREEXCHANGE64_REL}

// bsd functions
${define TB_CONFIG_BSD_HAVE_FLOCK}

// systemv functions
${define TB_CONFIG_SYSTEMV_HAVE_SEMGET}
${define TB_CONFIG_SYSTEMV_HAVE_SEMTIMEDOP}

// linux functions
${define TB_CONFIG_LINUX_HAVE_INOTIFY_INIT}

// valgrind functions
${define TB_CONFIG_VALGRIND_HAVE_VALGRIND_STACK_REGISTER}

#endif
